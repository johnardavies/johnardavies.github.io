<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Listed Buildings mobile app | John&#39;s Site</title>
<meta name="keywords" content="technical, digital, cloud, cities, built environment">
<meta name="description" content="Goldsmiths Laurie Grove baths Grade II listed
Listed Buildings mobile app
To learn more about mobile development I recently built a simple Android app that shows the location of the nearest historic building to the phone. Historic being defined
in the technical sense of a building officially ‘listed’ as of architectural or historic significance. The
geographic coverage, at least initially, is England as listing is done separately across the nations of the UK. As far as I know this has not been done before.">
<meta name="author" content="John Davies">
<link rel="canonical" href="http://localhost:1313/technical/mobile/">
<link crossorigin="anonymous" href="http://localhost:1313/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/technical/mobile/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="John&#39;s Site (Alt + H)">John&#39;s Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/creative_industries" title="creative industries">
                    <span>creative industries</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/other_data_projects" title="other data projects">
                    <span>other data projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/talks/" title="talks">
                    <span>talks</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/technical/" title="technical">
                    <span>technical</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Listed Buildings mobile app
    </h1>
    <div class="post-meta"><span title='2025-06-25 00:00:00 +0000 UTC'>June 25, 2025</span>&nbsp;·&nbsp;John Davies

</div>
  </header> 
<figure class="entry-cover"><img loading="eager" src="http://localhost:1313/goldsmiths.jpg" alt="">
        
</figure>
  <div class="post-content"><p>Goldsmiths Laurie Grove baths Grade II listed</p>
<h3 id="listed-buildings-mobile-app">Listed Buildings mobile app<a hidden class="anchor" aria-hidden="true" href="#listed-buildings-mobile-app">#</a></h3>
<p>To learn more about mobile development I recently built a simple Android app that shows the location of the nearest historic building to the phone. Historic being defined
in the technical sense of <a href="https://historicengland.org.uk/listing/what-is-designation/">a building officially ‘listed’ as of architectural or historic significanc</a>e. The
geographic coverage, at least initially, is England as listing is done separately across the nations of the UK. As far as I know this has not been done before.</p>
<p>The app allows you to find the nearest listed building overall and by type: Grade I the highest level of listing, Grade II* and Grade II (by far the most common type of list designation).</p>
<h3 id="1-using-the-app">1. Using the App<a hidden class="anchor" aria-hidden="true" href="#1-using-the-app">#</a></h3>
<p>The App has two buttons to retrieve location information which are located at the bottom of the app:</p>
<p><strong>1. Nearest listed building</strong> This shows the location of the nearest listed building on the map with a marker. The grade type searched for can be selected from the drop
down.<br>
<strong>2. Nearest Wikipedia location</strong>  This shows the location of nearest geo-located Wikipedia references on the map. Some Listed buildings have Wikipedia entries, but most
don’t.</p>
<p>The app had two modes that it can switch between:</p>
<p><strong>1. My Location</strong> (the default mode the app opens with). In this mode the app uses the phone’s location to identify the nearest listed building.</p>
<p><img alt="app_screen1" loading="lazy" src="http://localhost:1313/app1.png">
￼
<strong>2. Elsewhere</strong> This mode is selected by pressing the Elsewhere button which allows the user to search for a location (restricted to UK) and then drop a location marker
from where the nearest listed building is identified. The example below shows this in operation after searching for Highgate Cemetery. The red marker is created by tapping
the screen. Here the closest grade 1 listed building is the tomb of Karl Marx. Pressing the My Location button switches the app back to the map centred on the phone&rsquo;s
location.</p>
<p><img alt="app_screen2" loading="lazy" src="http://localhost:1313/app2.png"></p>
<p><strong>Getting information about sites</strong></p>
<p>If you click on a marker then press the Get info button the app takes you through to the official Historic England listing entry or the Wikipedia page depending on the
type of marker selected. Pressing the button Back to Main from the web page takes you back to the map.</p>
<p><img alt="app_screen3" loading="lazy" src="http://localhost:1313/app3.png"></p>
<h3 id="2--data-that-the-app-usesdata-protection">2.  Data that the app uses/Data protection<a hidden class="anchor" aria-hidden="true" href="#2--data-that-the-app-usesdata-protection">#</a></h3>
<p>To identify the nearest listed buildings the app accesses the location of the phone. It will prompt for permission to access this data the first time you use the app. When the app is in use the location data is sent outside the phone to three places (and on three occasions):</p>
<p><strong>Google</strong>: This is to plot your location on Google Maps. This will be happening anyway on an Android phone.</p>
<p><strong>Wikipedia</strong>: When the Nearest Wikipedia location button is pressed your phone’s location is sent to Wikipedia servers, which otherwise have no access to it. These then
return the nearest Wikipedia entries.</p>
<p><strong>Amazon Web Services (AWS)</strong>: When you press the Nearest listed building button your phone’s location is sent to AWS. When AWS receives this data it temporarily creates a
computer to process the location information, runs the code that identifies the nearest listed building and sends the results to the phone. Once this is done the computer
is shut down by AWS. This location information is not collected or stored by me. If it became useful to collect and store location information, permission would be sort from anyone using the app before doing so.</p>
<h3 id="3-technical-details-on-how-the-app-works">3. Technical details on how the app works<a hidden class="anchor" aria-hidden="true" href="#3-technical-details-on-how-the-app-works">#</a></h3>
<p>The front-end of the App is written in Kotlin. This calls the nearest listed buildings data processing via an API call to AWS API gateway. The API
call to AWS triggers a lambda function that runs a Docker container. In the Python script that is run in the container the closest listed building to the phone’s
coordinates (or a dropped marker) is identified using the <a href="https://github.com/spotify/annoy">Annoy library</a>. The listed building information is taken from the website of <a href="https://historicengland.org.uk/">Historic England</a>.</p>
<p>In addition the App makes use of the Google Maps and Wikipedia APIs. The App was not fully built with AI, but Copilot and ChatGPT played a large part in its creation.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/technical/">Technical</a></li>
      <li><a href="http://localhost:1313/tags/digital/">Digital</a></li>
      <li><a href="http://localhost:1313/tags/cloud/">Cloud</a></li>
      <li><a href="http://localhost:1313/tags/cities/">Cities</a></li>
      <li><a href="http://localhost:1313/tags/built-environment/">Built Environment</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">John&#39;s Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
