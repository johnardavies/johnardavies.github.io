<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Cloud 7: Building an API with Lambda, Docker and CloudFormation | John&#39;s Site</title>
<meta name="keywords" content="technical, digital, cloud">
<meta name="description" content="Cloud 7: Building an API with Lambda, Docker and CloudFormation
Antony Gormley&rsquo;s &lsquo;Bind&rsquo; at White Cube
Managing Python dependencies with lambda functions in AWS
I recently used a serverless approach to build an API for a project I was working on. Each API call triggered a lambda function to process the data from the call and the returned a response. This had the advantage of not having to maintain a constantly running server costing money when unused. However, the Python dependencies I used in this case pandas, numpy (and associated C complier) were not completely straightforward to include in the Amazon Web Services (AWS) lambdas framework I was using.">
<meta name="author" content="John Davies">
<link rel="canonical" href="http://johnardavies.github.io/technical/api_lambda/">
<link crossorigin="anonymous" href="http://johnardavies.github.io/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://johnardavies.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://johnardavies.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://johnardavies.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://johnardavies.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://johnardavies.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://johnardavies.github.io/technical/api_lambda/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://johnardavies.github.io/" accesskey="h" title="John&#39;s Site (Alt + H)">John&#39;s Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://johnardavies.github.io/creative_industries" title="creative industries">
                    <span>creative industries</span>
                </a>
            </li>
            <li>
                <a href="http://johnardavies.github.io/other_data_projects" title="other data projects">
                    <span>other data projects</span>
                </a>
            </li>
            <li>
                <a href="http://johnardavies.github.io/talks/" title="talks">
                    <span>talks</span>
                </a>
            </li>
            <li>
                <a href="http://johnardavies.github.io/technical/" title="technical">
                    <span>technical</span>
                </a>
            </li>
            <li>
                <a href="http://johnardavies.github.io/contact/" title="contact">
                    <span>contact</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Cloud 7: Building an API with Lambda, Docker and CloudFormation
    </h1>
    <div class="post-meta"><span title='2024-12-20 00:00:00 +0000 UTC'>December 20, 2024</span>&nbsp;·&nbsp;John Davies

</div>
  </header> 
<figure class="entry-cover"><img loading="eager" src="http://johnardavies.github.io/API_image.png" alt="">
        
</figure>
  <div class="post-content"><h3 id="cloud-7-building-an-api-with-lambda-docker-and-cloudformation">Cloud 7: Building an API with Lambda, Docker and CloudFormation<a hidden class="anchor" aria-hidden="true" href="#cloud-7-building-an-api-with-lambda-docker-and-cloudformation">#</a></h3>
<p><a href="https://www.whitecube.com/gallery-exhibitions/antony-gormley-body-politic">Antony Gormley&rsquo;s &lsquo;Bind&rsquo; at White Cube</a></p>
<p><strong>Managing Python dependencies with lambda functions in AWS</strong><br>
I recently used a serverless approach to build an API for a project I was working on. Each API call triggered a lambda function to process the data from the call and the returned a response. This had the advantage of not having to maintain a constantly running server costing money when unused. However, the Python dependencies I used in this case pandas, numpy (and associated C complier) were not completely straightforward to include in the Amazon Web Services (AWS) lambdas framework I was using.</p>
<p>There are approaches to deal with this where you install the dependencies in a virtual environment, zip the environment and upload it to S3 (This is described in the second reference below). However, there are size limits on what can be packaged at one go necessitating doing this multiple times, it also involved more AWS specific techniques. I therefore ended up using a Docker container to install the packages at one go with the lambda function triggering the container. For future reference I am writing this up here with a simple example of installing dependencies for a lambda function.</p>
<p>The following assumes that the AWS command line interface (CLI) is set up with the permissions to launch the various services.
It also assumes some understanding of Docker and AWS.</p>
<p>The project setup is that the <code>Dockerfile</code> and lambda function (included in <code>lambda_handler.py</code>) shown below are included in a folder called <code>container_folder</code> with the <code>requirements.txt</code> file specifying the dependencies one wants to use. The CloudFormation yaml file <code>api-lambda-example.yml</code> is used to generate the API. The files are available from <a href="https://github.com/johnardavies/lambda_api_example">https://github.com/johnardavies/lambda_api_example</a>.</p>
<p>Structure of the post:</p>
<p><strong>1. Creating the Docker container with the dependencies</strong><br>
<strong>2. The lambda function the API uses</strong><br>
<strong>3. The CloudFormation template that creates the API Stack</strong><br>
<strong>4. Generating an API key that rate limits the API</strong><br>
<strong>5. Launching the API</strong><br>
<strong>6. Calling the API</strong></p>
<h3 id="1-creating-the-docker-container-with-the-dependencies">1. Creating the Docker container with the dependencies<a hidden class="anchor" aria-hidden="true" href="#1-creating-the-docker-container-with-the-dependencies">#</a></h3>
<p>The first stage is to create a Docker container with the packaged dependencies we want to install. This Dockerfile copies the function we want the lambda to run (here <code>lambda_handler</code> described in the next section) to a folder called <code>function</code> on the container. It then copies the requirements in the requirements.txt file to the folder in the image and installs them. The Dockerfile then copies the folder to a smaller Python image and runs the Python function. As we are not using an AWS image we have to install the awslambdaric package to run the lambda in AWS. The Dockerfile is described in more detail in the second reference of this post.</p>
<pre tabindex="0"><code># Define custom function directory
ARG FUNCTION_DIR=&#34;/function&#34;

FROM python:3.10 AS build-image

# Include global arg in this stage of the build
ARG FUNCTION_DIR

# Copy function code
RUN mkdir -p ${FUNCTION_DIR}
COPY . ${FUNCTION_DIR}

COPY requirements.txt .

# Install the function&#39;s dependencies
RUN pip install \
    --target ${FUNCTION_DIR} \
        -r requirements.txt

# Use a slim version of the base Python image to reduce the final image size
FROM python:3.10-slim

# Include global arg in this stage of the build
ARG FUNCTION_DIR
# Set working directory to function root directory
WORKDIR ${FUNCTION_DIR}

# Copy in the built dependencies
COPY --from=build-image ${FUNCTION_DIR} ${FUNCTION_DIR}

# Install a C AND C++ compiler
RUN apt-get update &amp;&amp; \
    apt-get install -y zip gcc g++ &amp;&amp; \
    rm -rf /var/lib/apt/lists/*


# Set runtime interface client as default command for the container runtime
ENTRYPOINT [ &#34;/usr/local/bin/python&#34;, &#34;-m&#34;, &#34;awslambdaric&#34; ]
# Pass the name of the function handler as an argument to the runtime
CMD [ &#34;lambda_function.handler&#34; ]
</code></pre><h3 id="2-the-lambda-function-the-api-uses">2. The lambda function the API uses<a hidden class="anchor" aria-hidden="true" href="#2-the-lambda-function-the-api-uses">#</a></h3>
<p>In this example the lambda function used has a simple form which takes an input text string from the API call. It then imports the pandas and numpy packages and prints the text input with the pandas and numpy versions in a json format. The function is called handler and is saved in the Python module <code>lambda_function.py</code> which is copied to the container when the image is built.</p>
<pre tabindex="0"><code>import sys
import numpy as np
import pandas as pd
import json


def handler(event, context):
    &#34;&#34;&#34;Function that takes input string and imports numpy and pandas returning their versions as a json&#34;&#34;&#34;
    query_params = event.get(&#34;queryStringParameters&#34;, {})
    input = query_params.get(&#34;input&#34;, &#34;world&#34;)

    # Return the result as JSON
    return {
        &#34;statusCode&#34;: 200,
        &#34;body&#34;: json.dumps(
            {
                &#34;hello&#34;: str(input),
                &#34;numpy version&#34;: str(np.__version__),
                &#34;pandas version&#34;: str(pd.__version__),
            }
        ),
    }
</code></pre><p>To build the image associated with the container, run the command outside the container_folder. Here we tag it as api_stack.</p>
<pre tabindex="0"><code> docker build --tag api_stack container_folder/
</code></pre><p>To obtain the id of the created Docker image we then run:</p>
<pre tabindex="0"><code>docker images
</code></pre><p>Having built the container we then authenticate with the AWS Elastic Container Registry (ECR) to store it.
To do this we run the following where xxxxxx is the AWS Account ID. Specifying the region we are working in (here eu-west-2) which also appears in the container registry file path.</p>
<pre tabindex="0"><code>aws ecr get-login-password --region eu-west-2 | docker login --username AWS --password-stdin xxxxxx.dkr.ecr.eu-west-2.amazonaws.com
</code></pre><p>If this is successful, then<code>Login Succeeded</code> will be returned. We then tag the container to give it a name.
Here the image is identified by the id 7d990bc03f26 and given the name <code>api_example_container</code>.</p>
<pre tabindex="0"><code>docker tag 7d990bc03f26 xxxxxxx.dkr.ecr.eu-west-2.amazonaws.com/api_example_container
</code></pre><p>We then create a repository in ECR to hold the container image. This is a private repository as default.</p>
<pre tabindex="0"><code>aws ecr create-repository \
   --repository-name api_example_container \
   --image-scanning-configuration scanOnPush=true \
   --region eu-west-2
</code></pre><p>We then push the image to the container registry so that CloudFormation can access it</p>
<pre tabindex="0"><code>docker push xxxxxxx.dkr.ecr.eu-west-2.amazonaws.com/api_example_container:latest
</code></pre><h3 id="3--the-cloudformation-template-that-creates-the-api-stack">3.  The CloudFormation template that creates the API Stack<a hidden class="anchor" aria-hidden="true" href="#3--the-cloudformation-template-that-creates-the-api-stack">#</a></h3>
<p>The API is launched from the CloudFormation template which we label as <code>api-lambda-example.yml</code>. We pass two parameters to the template when launching the stack to generate the API. The first is the Uniform Resource identifier (URI) of the container that we are running the second is the StageName.</p>
<pre tabindex="0"><code>Description: A CloudFormation template that creates an API that runs a container. The API is rate limited API with an API key. 

Parameters:
  ECRRepositoryUri:
    Type: String
    Description: The URI of the Docker image in Amazon ECR (e.g., &lt;account-id&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com/&lt;repository-name&gt;:&lt;tag&gt;).

  StageName:
    Type: String
    Description: Name of API stage.

Resources:
  
  # API Gateway
  ApiGateway:
    Type: &#39;AWS::ApiGateway::RestApi&#39;
    Properties:
      Name: &#39;ApiExample&#39;
      ApiKeySourceType: HEADER

  # API Resource
  ApiResource:
    Type: &#39;AWS::ApiGateway::Resource&#39;
    Properties:
      ParentId: !GetAtt ApiGateway.RootResourceId
      PathPart: &#39;installer&#39;
      RestApiId: !Ref ApiGateway

  ExampleAPIDependencies: 
    Type: &#34;AWS::Lambda::Function&#34;
    Properties:
      FunctionName: &#39;ExampleAPIDependencies&#39;
      Role: !GetAtt LambdaExecutionRole.Arn
      Code:
        ImageUri: !Ref ECRRepositoryUri
      PackageType: &#34;Image&#34;
      Architectures: 
        - &#39;arm64&#39;
      Timeout: 30
      MemorySize: 500

  # Gives the API Gateway permission to call the lambda function ExampleAPIDependencies
  LambdaApiGatewayPermission:
    Type: &#39;AWS::Lambda::Permission&#39;
    Properties:
      Action: &#39;lambda:InvokeFunction&#39;
      FunctionName: !Ref ExampleAPIDependencies
      Principal: &#39;apigateway.amazonaws.com&#39;

  # Lambda Execution Role
  LambdaExecutionRole:
    Type: &#39;AWS::IAM::Role&#39;
    Properties:
      AssumeRolePolicyDocument:
        Version: &#39;2012-10-17&#39;
        Statement:
          - Effect: &#39;Allow&#39;
            Principal:
              Service: &#39;lambda.amazonaws.com&#39;
            Action: &#39;sts:AssumeRole&#39;
      Policies:
        - PolicyName: &#39;LambdaBasicExecution&#39;
          PolicyDocument:
            Version: &#39;2012-10-17&#39;
            Statement:
              - Effect: &#39;Allow&#39;
                Action:
                  - &#39;logs:CreateLogGroup&#39;
                  - &#39;logs:CreateLogStream&#39;
                  - &#39;logs:PutLogEvents&#39;
                Resource: &#39;*&#39;
    

  # API Method
  ApiMethod:
    Type: &#39;AWS::ApiGateway::Method&#39;
    Properties:
      HttpMethod: &#39;GET&#39;
      ResourceId: !Ref ApiResource
      RestApiId: !Ref ApiGateway
      AuthorizationType: &#39;NONE&#39;
      ApiKeyRequired: true
      Integration:
        Type: AWS_PROXY
        IntegrationHttpMethod: &#39;POST&#39;
        Uri: !Sub &#39;arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/${ExampleAPIDependencies.Arn}/invocations&#39;


  ApiDeployment:
    Type: &#39;AWS::ApiGateway::Deployment&#39;
    DependsOn: ApiMethod  # Ensures the deployment happens after the method is created
    Properties:
      RestApiId: !Ref ApiGateway
      StageName: &#39;prod&#39;


  # Usage Plan
  UsagePlan:
    Type: &#39;AWS::ApiGateway::UsagePlan&#39;
    DependsOn: ApiDeployment  # Ensures the usage plan is created after the deployment
    Properties:
      UsagePlanName: &#39;MyUsagePlan&#39;
      ApiStages:
        - ApiId: !Ref ApiGateway
          Stage: &#39;prod&#39;
      Throttle:
        BurstLimit: 100
        RateLimit: 50
      Quota:
        Limit: 1000
        Period: MONTH

  # API Key
  ApiKey:
    Type: &#39;AWS::ApiGateway::ApiKey&#39;
    Properties:
      Enabled: true
      Name: &#39;APIExampleKey&#39;

  # Usage Plan Key
  UsagePlanKey:
    Type: &#39;AWS::ApiGateway::UsagePlanKey&#39;
    Properties:
      KeyId: !Ref ApiKey
      KeyType: &#39;API_KEY&#39;
      UsagePlanId: !Ref UsagePlan
</code></pre><p>The section below creates the Api path <code>installer</code>. It then creates the lambda function which links it to the image URI passed to the CloudFormation stack.
As the container was built on an Apple Silicon Mac the architecture is specified as arm64. The lambda function times out after 30 seconds and as a maxium memory of 500 Megabytes. The API gateway is then given permission to invoke the lambda function.</p>
<pre tabindex="0"><code>  # API Resource
  ApiResource:
    Type: &#39;AWS::ApiGateway::Resource&#39;
    Properties:
      ParentId: !GetAtt ApiGateway.RootResourceId
      PathPart: &#39;installer&#39;
      RestApiId: !Ref ApiGateway

  ExampleAPIDependencies: 
    Type: &#34;AWS::Lambda::Function&#34;
    Properties:
      FunctionName: &#39;ExampleAPIDependencies&#39;
      Role: !GetAtt LambdaExecutionRole.Arn
      Code:
        ImageUri: !Ref ECRRepositoryUri
      PackageType: &#34;Image&#34;
      Architectures: 
        - &#39;arm64&#39;
      Timeout: 30
      MemorySize: 500

  # Gives the API Gateway permission to call the lambda function ExampleAPIDependencies
  LambdaApiGatewayPermission:
    Type: &#39;AWS::Lambda::Permission&#39;
    Properties:
      Action: &#39;lambda:InvokeFunction&#39;
      FunctionName: !Ref ExampleAPIDependencies
      Principal: &#39;apigateway.amazonaws.com&#39;
</code></pre><p>The lambda function is given permission to write to logs.</p>
<pre tabindex="0"><code>  # Lambda Execution Role
  LambdaExecutionRole:
    Type: &#39;AWS::IAM::Role&#39;
    Properties:
      AssumeRolePolicyDocument:
        Version: &#39;2012-10-17&#39;
        Statement:
          - Effect: &#39;Allow&#39;
            Principal:
              Service: &#39;lambda.amazonaws.com&#39;
            Action: &#39;sts:AssumeRole&#39;
      Policies:
        - PolicyName: &#39;LambdaBasicExecution&#39;
          PolicyDocument:
            Version: &#39;2012-10-17&#39;
            Statement:
              - Effect: &#39;Allow&#39;
                Action:
                  - &#39;logs:CreateLogGroup&#39;
                  - &#39;logs:CreateLogStream&#39;
                  - &#39;logs:PutLogEvents&#39;
                Resource: &#39;*&#39;
</code></pre><h3 id="4-generating-an-api-key-that-rate-limits-the-api">4. Generating an API key that rate limits the API<a hidden class="anchor" aria-hidden="true" href="#4-generating-an-api-key-that-rate-limits-the-api">#</a></h3>
<p>To prevent someone unwanted hitting the API endpoint a large number of times racking up a bill, the CloudFormation template includes a rate limit plan. In the template an API key is generated here called &lsquo;APIExampleKey&rsquo; which is then attached to the plan.</p>
<pre tabindex="0"><code>  # API Key
  ApiKey:
    Type: &#39;AWS::ApiGateway::ApiKey&#39;
    Properties:
      Enabled: true
      Name: &#39;APIExampleKey&#39;

  # Usage Plan Key
  UsagePlanKey:
    Type: &#39;AWS::ApiGateway::UsagePlanKey&#39;
    Properties:
      KeyId: !Ref ApiKey
      KeyType: &#39;API_KEY&#39;
      UsagePlanId: !Ref UsagePl`
</code></pre><h3 id="5-launching-the-api">5. Launching the API<a hidden class="anchor" aria-hidden="true" href="#5-launching-the-api">#</a></h3>
<p>To create the stack and generate the API we the following from the command line:</p>
<pre tabindex="0"><code>aws cloudformation create-stack --stack-name ExampleApiStack \
     --template-body file://api-lambda-example.yml \
     --region eu-west-2 \
     --capabilities CAPABILITY_IAM \
     --parameters \
            ParameterKey=ECRRepositoryUri,ParameterValue=xxxxxxxxxxx.dkr.ecr.eu-west-2.amazonaws.com/api_example_container \
            ParameterKey=StageName,ParameterValue=‘prod’
</code></pre><p>Here the container that the lambda runs and the StageName are passed to the template as parameters.</p>
<p>Get the stack info:</p>
<pre tabindex="0"><code>aws cloudformation describe-stacks --stack-name ExampleApiStack
</code></pre><h3 id="6-calling-the-api">6. Calling the API<a hidden class="anchor" aria-hidden="true" href="#6-calling-the-api">#</a></h3>
<p>Get the information on the endpoint:</p>
<pre tabindex="0"><code>aws apigateway get-rest-apis`
</code></pre><p>To test it works we curl the endpoint passing the API key in the header <code>-H &quot;x-api-key:</code> and the input text in the endpoint:</p>
<pre tabindex="0"><code>curl -X GET &#34;https://5dchmz0kt9.execute-api.eu-west-2.amazonaws.com/prod/installer?input=world&#34; \
 -H &#34;x-api-key: G15jcRREDW1GBhJG0BTOu8q5K0bwnw3w3clSGnVu&#34;
</code></pre><p>Some formatting issues that initially threw the command on a Mac: Having curl quotes “ rather than straight quotes &quot; and having whitespace after the <code>\</code>.
This produces the return:</p>
<pre tabindex="0"><code> {&#34;hello&#34;: &#34;world&#34;, &#34;numpy version&#34;: &#34;2.2.1&#34;, &#34;pandas version&#34;: &#34;2.2.3&#34;}
</code></pre><p>Delete the stack when finished:</p>
<pre tabindex="0"><code>aws cloudformation delete-stack --stack-name ExampleApiStack
</code></pre><p><strong>A variant of the usual Cloud warning</strong> At time of writing the AWS Lambda free tier in the amazon zone eu-west-2 includes one million free requests per month and beyond that it costs $0.20 per 1M requests see <a href="https://aws.amazon.com/lambda/pricing/">https://aws.amazon.com/lambda/pricing/</a>. This means that, in principle, serverless should cost very little as long as the number of requests is low. In the example here it is probably significantly cheaper than having a virtual machine continuously running to handle the API calls. However, in the event of large number of requests, perhaps by accidentally getting a lambda function to call itself and/or incurring high data storage costs this might not be true. Until AWS implements the budget cap that everyone wants, as always, the costs of cloud services should be  monitored and services turned off when not used to avoid incurring unwanted costs.</p>
<h3 id="references">References:<a hidden class="anchor" aria-hidden="true" href="#references">#</a></h3>
<p>AWS guidance on working with .zip file archives for Python Lambda functions
<a href="https://docs.aws.amazon.com/lambda/latest/dg/python-package.html">https://docs.aws.amazon.com/lambda/latest/dg/python-package.html</a></p>
<p>AWS guidance on deploying Python Lambda functions with container images
<a href="https://docs.aws.amazon.com/lambda/latest/dg/python-image.html#python-image-clients">https://docs.aws.amazon.com/lambda/latest/dg/python-image.html#python-image-clients</a></p>
<p>AWS guidance on creating and configuring API keys and usage plans with AWS CloudFormation
<a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-key-usage-plan-cfn.html">https://docs.aws.amazon.com/apigateway/latest/developerguide/api-key-usage-plan-cfn.html</a></p>
<h3 id="previous-cloud-posts">Previous Cloud posts<a hidden class="anchor" aria-hidden="true" href="#previous-cloud-posts">#</a></h3>
<p><em><strong><a href="https://johnardavies.github.io/technical/cloud_intro/">Cloud 1: Introduction to launching a Virtual Machine in the Cloud</a></strong></em></p>
<p><em><strong><a href="https://johnardavies.github.io/technical/cloud_use/">Cloud 2: Getting started with using a Virtual Machine in the Cloud</a></strong></em></p>
<p><em><strong><a href="https://johnardavies.github.io/technical/docker_use/">Cloud 3: Docker and Jupyter notebooks in the Cloud</a></strong></em></p>
<p><em><strong><a href="https://johnardavies.github.io/technical/serverless/">Cloud 4: Using Serverless</a></strong></em></p>
<p><em><strong><a href="https://johnardavies.github.io/technical/front_end/">Cloud 5: Introduction to deploying an app with simple CI/CD</a></strong></em></p>
<p><em><strong><a href="https://johnardavies.github.io/technical/infrastructure/">Cloud 6: Introduction to Infrastructure as Code using CloudFormation</a></strong></em></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://johnardavies.github.io/tags/technical/">Technical</a></li>
      <li><a href="http://johnardavies.github.io/tags/digital/">Digital</a></li>
      <li><a href="http://johnardavies.github.io/tags/cloud/">Cloud</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://johnardavies.github.io/">John&#39;s Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
